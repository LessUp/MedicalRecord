# 2025-10-25 就诊 CRUD 与部署脚本

## 变更概要
- 就诊记录：实现列表展示（首页时间线雏形）、删除、编辑/新增表单与路由。
- 数据层：Visit DAO 改为 Flow + suspend；新增 VisitRepository；新增 Home/VisitEdit ViewModel。
- UI 导航：新增 `visit/edit` 与 `visit/edit/{id}` 路由；FAB 跳转到新增就诊。
- 依赖：新增 lifecycle-runtime-compose、lifecycle-viewmodel-ktx、coroutines-android、compose foundation。
- 部署：新增脚本（生成Wrapper、构建Debug/Release、安装APK）、新增部署文档与 README。

## 新增文件
- app/src/main/java/com/lessup/medledger/data/repository/VisitRepository.kt
- app/src/main/java/com/lessup/medledger/ui/home/HomeViewModel.kt
- app/src/main/java/com/lessup/medledger/ui/home/HomeScreen.kt（展示列表与删除）
- app/src/main/java/com/lessup/medledger/ui/visit/VisitEditViewModel.kt
- app/src/main/java/com/lessup/medledger/ui/visit/VisitEditScreen.kt
- scripts/setup_gradle_wrapper.sh
- scripts/build_debug.sh
- scripts/install_debug.sh
- scripts/build_release.sh
- docs/部署.md
- README.md

## 修改文件
- app/src/main/java/com/lessup/medledger/data/dao/Daos.kt（改为 Flow/suspend）
- app/src/main/java/com/lessup/medledger/ui/navigation/NavGraph.kt（新增路由）
- app/src/main/java/com/lessup/medledger/MainActivity.kt（FAB 导航+无障碍文案）
- app/build.gradle.kts（新增依赖：runtime-compose、viewmodel-ktx、coroutines、foundation）

## 说明
- 首页时间线为列表雏形，详情页与更丰富的卡片展示将在后续补充。
- 表单使用简单文本输入，日期使用 YYYY-MM-DD 字符串；后续可替换为 DatePicker。
- 构建脚本默认使用 Gradle Wrapper（如缺失则先生成）。ADB 安装需设备已连接并授权。
