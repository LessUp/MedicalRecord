<view class="container">
  <!-- 慢病列表 -->
  <view class="condition-list" wx:if="{{conditions.length > 0}}">
    <view 
      class="condition-card" 
      wx:for="{{conditions}}" 
      wx:key="id"
      bindtap="goToDetail"
      data-id="{{item.id}}"
    >
      <view class="card-header">
        <view class="condition-icon">
          <text class="iconfont icon-heart"></text>
        </view>
        <view class="condition-info">
          <text class="condition-name">{{item.name}}</text>
          <text class="diagnosed-date" wx:if="{{item.diagnosedAt}}">
            确诊于 {{item.diagnosedAtStr}}
          </text>
        </view>
        <view class="delete-btn" catchtap="deleteCondition" data-id="{{item.id}}">
          <text class="iconfont icon-delete"></text>
        </view>
      </view>
      
      <view class="card-body" wx:if="{{item.plans && item.plans.length > 0}}">
        <view class="next-checkup">
          <text class="iconfont icon-calendar"></text>
          <text>下次复查: {{item.nextCheckDateStr || '待设置'}}</text>
        </view>
      </view>
      
      <view class="card-footer" wx:if="{{item.note}}">
        <text class="note">{{item.note}}</text>
      </view>
    </view>
  </view>

  <!-- 空状态 -->
  <view class="empty-state" wx:else>
    <image src="/images/empty-chronic.png" class="empty-image"/>
    <text class="empty-title">暂无慢病档案</text>
    <text class="empty-desc">添加慢病记录，设置复查提醒</text>
  </view>

  <!-- 添加按钮 -->
  <view class="fab" bindtap="goToAdd">
    <text class="fab-icon">+</text>
  </view>
</view>
