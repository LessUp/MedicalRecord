# 部署与构建指南

本项目为 Android 应用（Kotlin + Jetpack Compose + Material3 + Hilt + Room + CameraX）。

## 一、环境要求
- JDK 17（建议使用 Android Studio 自带 JDK）
- Android SDK（通过 Android Studio 安装）
- 可选：Gradle（如需用系统 gradle 生成 Wrapper）
- 可选：ADB（安装到真机/模拟器）

## 二、使用 Android Studio
1. 直接用 Android Studio 打开工程根目录。
2. 第一次打开会自动 Sync，等待依赖下载完成。
3. 选择 app 运行到模拟器或真机（建议先创建 Android 13+ 模拟器）。

## 三、使用脚本一键构建
脚本位于 `scripts/` 目录。首次使用先赋予执行权限：

```bash
chmod +x scripts/*.sh
```

- 生成 Gradle Wrapper（如不存在）：

```bash
bash scripts/setup_gradle_wrapper.sh
```

- 构建 Debug 包：

```bash
bash scripts/build_debug.sh
```

- 安装 Debug 包到已连接设备：

```bash
bash scripts/install_debug.sh
```

- 构建 Release 包（未签名）：

```bash
bash scripts/build_release.sh
```

生成的 APK 路径：
- Debug: `app/build/outputs/apk/debug/app-debug.apk`
- Release: `app/build/outputs/apk/release/app-release-unsigned.apk`

## 四、签名与发布（简述）
- 建议使用 Android Studio 的“Generate Signed App Bundle/APK”。
- 或者使用 Gradle 签名配置（在 `app/` 中添加 `signingConfigs` 与 `buildTypes.release.signingConfig`）。
- 请勿将签名文件与密钥上传到仓库。

## 五、常见问题
- Gradle 版本匹配：本工程使用 AGP 8.5.2，推荐 Gradle 8.7。
- 编译 JDK：需要 Java 17。
- 依赖下载慢：建议配置国内镜像或使用代理。
